{"version":3,"sources":["../../node_modules/hyperapp/src/index.js","../../map-share-common/urls.js","../../map-share-common/index.ts","MapLink.tsx","Maps.tsx","UploadButton.tsx","uploadFiles.ts","../../node_modules/lodash-es/_freeGlobal.js","../../node_modules/lodash-es/_root.js","../../node_modules/lodash-es/_Symbol.js","../../node_modules/lodash-es/_getRawTag.js","../../node_modules/lodash-es/_objectToString.js","../../node_modules/lodash-es/_baseGetTag.js","../../node_modules/lodash-es/_overArg.js","../../node_modules/lodash-es/_getPrototype.js","../../node_modules/lodash-es/isObjectLike.js","../../node_modules/lodash-es/isPlainObject.js","../../node_modules/symbol-observable/es/ponyfill.js","../../node_modules/symbol-observable/es/index.js","../../node_modules/redux/es/createStore.js","../../node_modules/redux/es/utils/warning.js","../../node_modules/redux/es/combineReducers.js","../../node_modules/redux/es/bindActionCreators.js","../../node_modules/redux/es/compose.js","../../node_modules/redux/es/applyMiddleware.js","../../node_modules/redux/es/index.js","../../node_modules/redux-devtools-extension/index.js","../../node_modules/hyperapp-redux-devtools/index.js","index.tsx","../../node_modules/parcel/src/builtins/bundle-url.js","../../node_modules/parcel/src/builtins/css-loader.js"],"names":["h","name","attributes","rest","children","length","arguments","push","node","pop","nodeName","key","app","state","actions","view","container","map","rootElement","oldNode","recycleElement","lifecycle","skipRender","isRecycling","globalState","clone","wiredActions","wireStateToActions","scheduleRender","element","toLowerCase","call","childNodes","nodeType","nodeValue","resolveNode","render","patch","setTimeout","target","source","out","i","setPartialState","path","value","slice","getPartialState","action","data","result","then","concat","getKey","eventListener","event","currentTarget","events","type","updateAttribute","oldValue","isSvg","style","cssText","setProperty","addEventListener","removeEventListener","setAttribute","removeAttribute","createElement","document","createTextNode","createElementNS","oncreate","appendChild","updateElement","oldAttributes","cb","onupdate","removeChildren","ondestroy","removeElement","parent","done","removeChild","onremove","newElement","insertBefore","oldKeyed","newKeyed","oldElements","oldChildren","oldKey","k","newKey","keyedNode","Object","defineProperty","exports","urls","GENERATOR_URL","SERVICE_URL","freeGlobal","global","freeSelf","self","root","Function","Symbol","objectProto","prototype","hasOwnProperty","nativeObjectToString","toString","symToStringTag","toStringTag","undefined","getRawTag","isOwn","tag","unmasked","e","objectToString","nullTag","undefinedTag","baseGetTag","overArg","func","transform","arg","getPrototype","getPrototypeOf","isObjectLike","objectTag","funcProto","funcToString","objectCtorString","isPlainObject","proto","Ctor","constructor","symbolObservablePonyfill","observable","window","module","ActionTypes","INIT","createStore","reducer","preloadedState","enhancer","_ref2","Error","currentReducer","currentState","currentListeners","nextListeners","isDispatching","ensureCanMutateNextListeners","getState","subscribe","listener","isSubscribed","unsubscribe","index","indexOf","splice","dispatch","listeners","replaceReducer","nextReducer","_ref","outerSubscribe","observer","TypeError","observeState","next","$$observable","warning","message","console","error","getUndefinedStateErrorMessage","actionType","actionName","getUnexpectedStateShapeWarningMessage","inputState","reducers","unexpectedKeyCache","reducerKeys","keys","argumentName","match","join","unexpectedKeys","filter","forEach","assertReducerShape","initialState","Math","random","substring","split","combineReducers","finalReducers","finalReducerKeys","shapeAssertionError","combination","warningMessage","hasChanged","nextState","_i","_key","previousStateForKey","nextStateForKey","errorMessage","bindActionCreator","actionCreator","apply","bindActionCreators","actionCreators","boundActionCreators","compose","_len","funcs","Array","reduce","a","b","_extends","assign","applyMiddleware","middlewares","store","_dispatch","chain","middlewareAPI","middleware","isCrushed","bundleURL","getBundleURLCached","getBundleURL","err","matches","stack","getBaseURL","url","replace","bundle","require","updateLink","link","newLink","cloneNode","onload","remove","href","Date","now","parentNode","nextSibling","cssTimeout","reloadCSS","links","querySelectorAll"],"mappings":"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","file":"src.f69400ca.map","sourceRoot":"..\\src","sourcesContent":["export function h(name, attributes) {\n  var rest = []\n  var children = []\n  var length = arguments.length\n\n  while (length-- > 2) rest.push(arguments[length])\n\n  while (rest.length) {\n    var node = rest.pop()\n    if (node && node.pop) {\n      for (length = node.length; length--; ) {\n        rest.push(node[length])\n      }\n    } else if (node != null && node !== true && node !== false) {\n      children.push(node)\n    }\n  }\n\n  return typeof name === \"function\"\n    ? name(attributes || {}, children)\n    : {\n        nodeName: name,\n        attributes: attributes || {},\n        children: children,\n        key: attributes && attributes.key\n      }\n}\n\nexport function app(state, actions, view, container) {\n  var map = [].map\n  var rootElement = (container && container.children[0]) || null\n  var oldNode = rootElement && recycleElement(rootElement)\n  var lifecycle = []\n  var skipRender\n  var isRecycling = true\n  var globalState = clone(state)\n  var wiredActions = wireStateToActions([], globalState, clone(actions))\n\n  scheduleRender()\n\n  return wiredActions\n\n  function recycleElement(element) {\n    return {\n      nodeName: element.nodeName.toLowerCase(),\n      attributes: {},\n      children: map.call(element.childNodes, function(element) {\n        return element.nodeType === 3 // Node.TEXT_NODE\n          ? element.nodeValue\n          : recycleElement(element)\n      })\n    }\n  }\n\n  function resolveNode(node) {\n    return typeof node === \"function\"\n      ? resolveNode(node(globalState, wiredActions))\n      : node != null\n        ? node\n        : \"\"\n  }\n\n  function render() {\n    skipRender = !skipRender\n\n    var node = resolveNode(view)\n\n    if (container && !skipRender) {\n      rootElement = patch(container, rootElement, oldNode, (oldNode = node))\n    }\n\n    isRecycling = false\n\n    while (lifecycle.length) lifecycle.pop()()\n  }\n\n  function scheduleRender() {\n    if (!skipRender) {\n      skipRender = true\n      setTimeout(render)\n    }\n  }\n\n  function clone(target, source) {\n    var out = {}\n\n    for (var i in target) out[i] = target[i]\n    for (var i in source) out[i] = source[i]\n\n    return out\n  }\n\n  function setPartialState(path, value, source) {\n    var target = {}\n    if (path.length) {\n      target[path[0]] =\n        path.length > 1\n          ? setPartialState(path.slice(1), value, source[path[0]])\n          : value\n      return clone(source, target)\n    }\n    return value\n  }\n\n  function getPartialState(path, source) {\n    var i = 0\n    while (i < path.length) {\n      source = source[path[i++]]\n    }\n    return source\n  }\n\n  function wireStateToActions(path, state, actions) {\n    for (var key in actions) {\n      typeof actions[key] === \"function\"\n        ? (function(key, action) {\n            actions[key] = function(data) {\n              var result = action(data)\n\n              if (typeof result === \"function\") {\n                result = result(getPartialState(path, globalState), actions)\n              }\n\n              if (\n                result &&\n                result !== (state = getPartialState(path, globalState)) &&\n                !result.then // !isPromise\n              ) {\n                scheduleRender(\n                  (globalState = setPartialState(\n                    path,\n                    clone(state, result),\n                    globalState\n                  ))\n                )\n              }\n\n              return result\n            }\n          })(key, actions[key])\n        : wireStateToActions(\n            path.concat(key),\n            (state[key] = clone(state[key])),\n            (actions[key] = clone(actions[key]))\n          )\n    }\n\n    return actions\n  }\n\n  function getKey(node) {\n    return node ? node.key : null\n  }\n\n  function eventListener(event) {\n    return event.currentTarget.events[event.type](event)\n  }\n\n  function updateAttribute(element, name, value, oldValue, isSvg) {\n    if (name === \"key\") {\n    } else if (name === \"style\") {\n      if (typeof value === \"string\") {\n        element.style.cssText = value\n      } else {\n        if (typeof oldValue === \"string\") oldValue = element.style.cssText = \"\"\n        for (var i in clone(oldValue, value)) {\n          var style = value == null || value[i] == null ? \"\" : value[i]\n          if (i[0] === \"-\") {\n            element.style.setProperty(i, style)\n          } else {\n            element.style[i] = style\n          }\n        }\n      }\n    } else {\n      if (name[0] === \"o\" && name[1] === \"n\") {\n        name = name.slice(2)\n\n        if (element.events) {\n          if (!oldValue) oldValue = element.events[name]\n        } else {\n          element.events = {}\n        }\n\n        element.events[name] = value\n\n        if (value) {\n          if (!oldValue) {\n            element.addEventListener(name, eventListener)\n          }\n        } else {\n          element.removeEventListener(name, eventListener)\n        }\n      } else if (\n        name in element &&\n        name !== \"list\" &&\n        name !== \"type\" &&\n        name !== \"draggable\" &&\n        name !== \"spellcheck\" &&\n        name !== \"translate\" &&\n        !isSvg\n      ) {\n        element[name] = value == null ? \"\" : value\n      } else if (value != null && value !== false) {\n        element.setAttribute(name, value)\n      }\n\n      if (value == null || value === false) {\n        element.removeAttribute(name)\n      }\n    }\n  }\n\n  function createElement(node, isSvg) {\n    var element =\n      typeof node === \"string\" || typeof node === \"number\"\n        ? document.createTextNode(node)\n        : (isSvg = isSvg || node.nodeName === \"svg\")\n          ? document.createElementNS(\n              \"http://www.w3.org/2000/svg\",\n              node.nodeName\n            )\n          : document.createElement(node.nodeName)\n\n    var attributes = node.attributes\n    if (attributes) {\n      if (attributes.oncreate) {\n        lifecycle.push(function() {\n          attributes.oncreate(element)\n        })\n      }\n\n      for (var i = 0; i < node.children.length; i++) {\n        element.appendChild(\n          createElement(\n            (node.children[i] = resolveNode(node.children[i])),\n            isSvg\n          )\n        )\n      }\n\n      for (var name in attributes) {\n        updateAttribute(element, name, attributes[name], null, isSvg)\n      }\n    }\n\n    return element\n  }\n\n  function updateElement(element, oldAttributes, attributes, isSvg) {\n    for (var name in clone(oldAttributes, attributes)) {\n      if (\n        attributes[name] !==\n        (name === \"value\" || name === \"checked\"\n          ? element[name]\n          : oldAttributes[name])\n      ) {\n        updateAttribute(\n          element,\n          name,\n          attributes[name],\n          oldAttributes[name],\n          isSvg\n        )\n      }\n    }\n\n    var cb = isRecycling ? attributes.oncreate : attributes.onupdate\n    if (cb) {\n      lifecycle.push(function() {\n        cb(element, oldAttributes)\n      })\n    }\n  }\n\n  function removeChildren(element, node) {\n    var attributes = node.attributes\n    if (attributes) {\n      for (var i = 0; i < node.children.length; i++) {\n        removeChildren(element.childNodes[i], node.children[i])\n      }\n\n      if (attributes.ondestroy) {\n        attributes.ondestroy(element)\n      }\n    }\n    return element\n  }\n\n  function removeElement(parent, element, node) {\n    function done() {\n      parent.removeChild(removeChildren(element, node))\n    }\n\n    var cb = node.attributes && node.attributes.onremove\n    if (cb) {\n      cb(element, done)\n    } else {\n      done()\n    }\n  }\n\n  function patch(parent, element, oldNode, node, isSvg) {\n    if (node === oldNode) {\n    } else if (oldNode == null || oldNode.nodeName !== node.nodeName) {\n      var newElement = createElement(node, isSvg)\n      parent.insertBefore(newElement, element)\n\n      if (oldNode != null) {\n        removeElement(parent, element, oldNode)\n      }\n\n      element = newElement\n    } else if (oldNode.nodeName == null) {\n      element.nodeValue = node\n    } else {\n      updateElement(\n        element,\n        oldNode.attributes,\n        node.attributes,\n        (isSvg = isSvg || node.nodeName === \"svg\")\n      )\n\n      var oldKeyed = {}\n      var newKeyed = {}\n      var oldElements = []\n      var oldChildren = oldNode.children\n      var children = node.children\n\n      for (var i = 0; i < oldChildren.length; i++) {\n        oldElements[i] = element.childNodes[i]\n\n        var oldKey = getKey(oldChildren[i])\n        if (oldKey != null) {\n          oldKeyed[oldKey] = [oldElements[i], oldChildren[i]]\n        }\n      }\n\n      var i = 0\n      var k = 0\n\n      while (k < children.length) {\n        var oldKey = getKey(oldChildren[i])\n        var newKey = getKey((children[k] = resolveNode(children[k])))\n\n        if (newKeyed[oldKey]) {\n          i++\n          continue\n        }\n\n        if (newKey != null && newKey === getKey(oldChildren[i + 1])) {\n          if (oldKey == null) {\n            removeElement(element, oldElements[i], oldChildren[i])\n          }\n          i++\n          continue\n        }\n\n        if (newKey == null || isRecycling) {\n          if (oldKey == null) {\n            patch(element, oldElements[i], oldChildren[i], children[k], isSvg)\n            k++\n          }\n          i++\n        } else {\n          var keyedNode = oldKeyed[newKey] || []\n\n          if (oldKey === newKey) {\n            patch(element, keyedNode[0], keyedNode[1], children[k], isSvg)\n            i++\n          } else if (keyedNode[0]) {\n            patch(\n              element,\n              element.insertBefore(keyedNode[0], oldElements[i]),\n              keyedNode[1],\n              children[k],\n              isSvg\n            )\n          } else {\n            patch(element, oldElements[i], null, children[k], isSvg)\n          }\n\n          newKeyed[newKey] = children[k]\n          k++\n        }\n      }\n\n      while (i < oldChildren.length) {\n        if (getKey(oldChildren[i]) == null) {\n          removeElement(element, oldElements[i], oldChildren[i])\n        }\n        i++\n      }\n\n      for (var i in oldKeyed) {\n        if (!newKeyed[i]) {\n          removeElement(element, oldKeyed[i][0], oldKeyed[i][1])\n        }\n      }\n    }\n    return element\n  }\n}\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar urls;\r\nif (process.env.NODE_ENV !== 'production') {\r\n    urls = {\r\n        GENERATOR_URL: 'http://localhost:5000/',\r\n        SERVICE_URL: 'http://localhost:3000/',\r\n    };\r\n}\r\nelse {\r\n    urls = {\r\n        GENERATOR_URL: '???',\r\n        SERVICE_URL: '???',\r\n    };\r\n}\r\nexports.GENERATOR_URL = urls.GENERATOR_URL;\r\nexports.SERVICE_URL = urls.SERVICE_URL;\r\n","export type Map = {\n  path: string;\n  temporaryLink: string;\n};\n\nexport namespace dataTransfer {\n  export type Maps = {\n    maps: Map[];\n  };\n}\n\nexport * from './urls';\n","import { h } from 'hyperapp';\n\nimport { Map } from '../../map-share-common';\nimport { Component } from '.';\n\nconst MapLink: Component<Map> = ({ path, temporaryLink }) => (\n  <a href={temporaryLink}>{path}</a>\n);\n\nexport default MapLink;\n","import { h, Component } from 'hyperapp';\n\nimport { Map } from '../../map-share-common';\n\nimport MapLink from './MapLink';\n\nconst Maps: Component<{\n  maps: Map[];\n}> = ({ maps }) => (\n  <section>\n    <h1 style={{ marginBottom: 0 }}>Maps</h1>\n    <div class=\"maps-grid\">\n      {maps.map(map => (\n        <MapLink {...map} />\n      ))}\n    </div>\n  </section>\n);\n\nexport default Maps;\n","import { h } from 'hyperapp';\nimport { Component } from '.';\n\ntype Attrs = {\n  onclick: () => void;\n};\nconst UploadButton: Component<Attrs> = ({ onclick }) => (\n  <button\n    style={{\n      position: 'absolute',\n      bottom: 0,\n    }}\n    onclick={onclick}\n  >\n    Upload map\n  </button>\n);\n\nexport default UploadButton;\n","import { SERVICE_URL } from '../../map-share-common';\n\nexport function uploadFiles(files: FileList) {\n  const formData = new FormData();\n  Array.prototype.forEach.call(files, (file: File) =>\n    formData.append('file', file)\n  );\n\n  return fetch(SERVICE_URL + 'upload', {\n    body: formData,\n    method: 'POST',\n  }).then(response => response.json());\n}\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nexport default freeGlobal;\n","import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nexport default root;\n","import root from './_root.js';\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nexport default Symbol;\n","import Symbol from './_Symbol.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nexport default getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nexport default objectToString;\n","import Symbol from './_Symbol.js';\nimport getRawTag from './_getRawTag.js';\nimport objectToString from './_objectToString.js';\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nexport default baseGetTag;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nexport default overArg;\n","import overArg from './_overArg.js';\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\nexport default getPrototype;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nexport default isObjectLike;\n","import baseGetTag from './_baseGetTag.js';\nimport getPrototype from './_getPrototype.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n    funcToString.call(Ctor) == objectCtorString;\n}\n\nexport default isPlainObject;\n","export default function symbolObservablePonyfill(root) {\n\tvar result;\n\tvar Symbol = root.Symbol;\n\n\tif (typeof Symbol === 'function') {\n\t\tif (Symbol.observable) {\n\t\t\tresult = Symbol.observable;\n\t\t} else {\n\t\t\tresult = Symbol('observable');\n\t\t\tSymbol.observable = result;\n\t\t}\n\t} else {\n\t\tresult = '@@observable';\n\t}\n\n\treturn result;\n};\n","/* global window */\nimport ponyfill from './ponyfill.js';\n\nvar root;\n\nif (typeof self !== 'undefined') {\n  root = self;\n} else if (typeof window !== 'undefined') {\n  root = window;\n} else if (typeof global !== 'undefined') {\n  root = global;\n} else if (typeof module !== 'undefined') {\n  root = module;\n} else {\n  root = Function('return this')();\n}\n\nvar result = ponyfill(root);\nexport default result;\n","import isPlainObject from 'lodash-es/isPlainObject';\nimport $$observable from 'symbol-observable';\n\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\nexport var ActionTypes = {\n  INIT: '@@redux/INIT'\n\n  /**\n   * Creates a Redux store that holds the state tree.\n   * The only way to change the data in the store is to call `dispatch()` on it.\n   *\n   * There should only be a single store in your app. To specify how different\n   * parts of the state tree respond to actions, you may combine several reducers\n   * into a single reducer function by using `combineReducers`.\n   *\n   * @param {Function} reducer A function that returns the next state tree, given\n   * the current state tree and the action to handle.\n   *\n   * @param {any} [preloadedState] The initial state. You may optionally specify it\n   * to hydrate the state from the server in universal apps, or to restore a\n   * previously serialized user session.\n   * If you use `combineReducers` to produce the root reducer function, this must be\n   * an object with the same shape as `combineReducers` keys.\n   *\n   * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n   * to enhance the store with third-party capabilities such as middleware,\n   * time travel, persistence, etc. The only store enhancer that ships with Redux\n   * is `applyMiddleware()`.\n   *\n   * @returns {Store} A Redux store that lets you read the state, dispatch actions\n   * and subscribe to changes.\n   */\n};export default function createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error('Expected the enhancer to be a function.');\n    }\n\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error('Expected the reducer to be a function.');\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n  function getState() {\n    return currentState;\n  }\n\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error('Expected listener to be a function.');\n    }\n\n    var isSubscribed = true;\n\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      isSubscribed = false;\n\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n    };\n  }\n\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing what changed. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n  function dispatch(action) {\n    if (!isPlainObject(action)) {\n      throw new Error('Actions must be plain objects. ' + 'Use custom middleware for async actions.');\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error('Actions may not have an undefined \"type\" property. ' + 'Have you misspelled a constant?');\n    }\n\n    if (isDispatching) {\n      throw new Error('Reducers may not dispatch actions.');\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n\n    return action;\n  }\n\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error('Expected the nextReducer to be a function.');\n    }\n\n    currentReducer = nextReducer;\n    dispatch({ type: ActionTypes.INIT });\n  }\n\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if (typeof observer !== 'object') {\n          throw new TypeError('Expected the observer to be an object.');\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return { unsubscribe: unsubscribe };\n      }\n    }, _ref[$$observable] = function () {\n      return this;\n    }, _ref;\n  }\n\n  // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n  dispatch({ type: ActionTypes.INIT });\n\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[$$observable] = observable, _ref2;\n}","/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\nexport default function warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n    /* eslint-disable no-empty */\n  } catch (e) {}\n  /* eslint-enable no-empty */\n}","import { ActionTypes } from './createStore';\nimport isPlainObject from 'lodash-es/isPlainObject';\nimport warning from './utils/warning';\n\nfunction getUndefinedStateErrorMessage(key, action) {\n  var actionType = action && action.type;\n  var actionName = actionType && '\"' + actionType.toString() + '\"' || 'an action';\n\n  return 'Given action ' + actionName + ', reducer \"' + key + '\" returned undefined. ' + 'To ignore an action, you must explicitly return the previous state. ' + 'If you want this reducer to hold no value, you can return null instead of undefined.';\n}\n\nfunction getUnexpectedStateShapeWarningMessage(inputState, reducers, action, unexpectedKeyCache) {\n  var reducerKeys = Object.keys(reducers);\n  var argumentName = action && action.type === ActionTypes.INIT ? 'preloadedState argument passed to createStore' : 'previous state received by the reducer';\n\n  if (reducerKeys.length === 0) {\n    return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';\n  }\n\n  if (!isPlainObject(inputState)) {\n    return 'The ' + argumentName + ' has unexpected type of \"' + {}.toString.call(inputState).match(/\\s([a-z|A-Z]+)/)[1] + '\". Expected argument to be an object with the following ' + ('keys: \"' + reducerKeys.join('\", \"') + '\"');\n  }\n\n  var unexpectedKeys = Object.keys(inputState).filter(function (key) {\n    return !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key];\n  });\n\n  unexpectedKeys.forEach(function (key) {\n    unexpectedKeyCache[key] = true;\n  });\n\n  if (unexpectedKeys.length > 0) {\n    return 'Unexpected ' + (unexpectedKeys.length > 1 ? 'keys' : 'key') + ' ' + ('\"' + unexpectedKeys.join('\", \"') + '\" found in ' + argumentName + '. ') + 'Expected to find one of the known reducer keys instead: ' + ('\"' + reducerKeys.join('\", \"') + '\". Unexpected keys will be ignored.');\n  }\n}\n\nfunction assertReducerShape(reducers) {\n  Object.keys(reducers).forEach(function (key) {\n    var reducer = reducers[key];\n    var initialState = reducer(undefined, { type: ActionTypes.INIT });\n\n    if (typeof initialState === 'undefined') {\n      throw new Error('Reducer \"' + key + '\" returned undefined during initialization. ' + 'If the state passed to the reducer is undefined, you must ' + 'explicitly return the initial state. The initial state may ' + 'not be undefined. If you don\\'t want to set a value for this reducer, ' + 'you can use null instead of undefined.');\n    }\n\n    var type = '@@redux/PROBE_UNKNOWN_ACTION_' + Math.random().toString(36).substring(7).split('').join('.');\n    if (typeof reducer(undefined, { type: type }) === 'undefined') {\n      throw new Error('Reducer \"' + key + '\" returned undefined when probed with a random type. ' + ('Don\\'t try to handle ' + ActionTypes.INIT + ' or other actions in \"redux/*\" ') + 'namespace. They are considered private. Instead, you must return the ' + 'current state for any unknown actions, unless it is undefined, ' + 'in which case you must return the initial state, regardless of the ' + 'action type. The initial state may not be undefined, but can be null.');\n    }\n  });\n}\n\n/**\n * Turns an object whose values are different reducer functions, into a single\n * reducer function. It will call every child reducer, and gather their results\n * into a single state object, whose keys correspond to the keys of the passed\n * reducer functions.\n *\n * @param {Object} reducers An object whose values correspond to different\n * reducer functions that need to be combined into one. One handy way to obtain\n * it is to use ES6 `import * as reducers` syntax. The reducers may never return\n * undefined for any action. Instead, they should return their initial state\n * if the state passed to them was undefined, and the current state for any\n * unrecognized action.\n *\n * @returns {Function} A reducer function that invokes every reducer inside the\n * passed object, and builds a state object with the same shape.\n */\nexport default function combineReducers(reducers) {\n  var reducerKeys = Object.keys(reducers);\n  var finalReducers = {};\n  for (var i = 0; i < reducerKeys.length; i++) {\n    var key = reducerKeys[i];\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof reducers[key] === 'undefined') {\n        warning('No reducer provided for key \"' + key + '\"');\n      }\n    }\n\n    if (typeof reducers[key] === 'function') {\n      finalReducers[key] = reducers[key];\n    }\n  }\n  var finalReducerKeys = Object.keys(finalReducers);\n\n  var unexpectedKeyCache = void 0;\n  if (process.env.NODE_ENV !== 'production') {\n    unexpectedKeyCache = {};\n  }\n\n  var shapeAssertionError = void 0;\n  try {\n    assertReducerShape(finalReducers);\n  } catch (e) {\n    shapeAssertionError = e;\n  }\n\n  return function combination() {\n    var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var action = arguments[1];\n\n    if (shapeAssertionError) {\n      throw shapeAssertionError;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      var warningMessage = getUnexpectedStateShapeWarningMessage(state, finalReducers, action, unexpectedKeyCache);\n      if (warningMessage) {\n        warning(warningMessage);\n      }\n    }\n\n    var hasChanged = false;\n    var nextState = {};\n    for (var _i = 0; _i < finalReducerKeys.length; _i++) {\n      var _key = finalReducerKeys[_i];\n      var reducer = finalReducers[_key];\n      var previousStateForKey = state[_key];\n      var nextStateForKey = reducer(previousStateForKey, action);\n      if (typeof nextStateForKey === 'undefined') {\n        var errorMessage = getUndefinedStateErrorMessage(_key, action);\n        throw new Error(errorMessage);\n      }\n      nextState[_key] = nextStateForKey;\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n    }\n    return hasChanged ? nextState : state;\n  };\n}","function bindActionCreator(actionCreator, dispatch) {\n  return function () {\n    return dispatch(actionCreator.apply(undefined, arguments));\n  };\n}\n\n/**\n * Turns an object whose values are action creators, into an object with the\n * same keys, but with every function wrapped into a `dispatch` call so they\n * may be invoked directly. This is just a convenience method, as you can call\n * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.\n *\n * For convenience, you can also pass a single function as the first argument,\n * and get a function in return.\n *\n * @param {Function|Object} actionCreators An object whose values are action\n * creator functions. One handy way to obtain it is to use ES6 `import * as`\n * syntax. You may also pass a single function.\n *\n * @param {Function} dispatch The `dispatch` function available on your Redux\n * store.\n *\n * @returns {Function|Object} The object mimicking the original object, but with\n * every action creator wrapped into the `dispatch` call. If you passed a\n * function as `actionCreators`, the return value will also be a single\n * function.\n */\nexport default function bindActionCreators(actionCreators, dispatch) {\n  if (typeof actionCreators === 'function') {\n    return bindActionCreator(actionCreators, dispatch);\n  }\n\n  if (typeof actionCreators !== 'object' || actionCreators === null) {\n    throw new Error('bindActionCreators expected an object or a function, instead received ' + (actionCreators === null ? 'null' : typeof actionCreators) + '. ' + 'Did you write \"import ActionCreators from\" instead of \"import * as ActionCreators from\"?');\n  }\n\n  var keys = Object.keys(actionCreators);\n  var boundActionCreators = {};\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    var actionCreator = actionCreators[key];\n    if (typeof actionCreator === 'function') {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n    }\n  }\n  return boundActionCreators;\n}","/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\n\nexport default function compose() {\n  for (var _len = arguments.length, funcs = Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(undefined, arguments));\n    };\n  });\n}","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nimport compose from './compose';\n\n/**\n * Creates a store enhancer that applies middleware to the dispatch method\n * of the Redux store. This is handy for a variety of tasks, such as expressing\n * asynchronous actions in a concise manner, or logging every action payload.\n *\n * See `redux-thunk` package as an example of the Redux middleware.\n *\n * Because middleware is potentially asynchronous, this should be the first\n * store enhancer in the composition chain.\n *\n * Note that each middleware will be given the `dispatch` and `getState` functions\n * as named arguments.\n *\n * @param {...Function} middlewares The middleware chain to be applied.\n * @returns {Function} A store enhancer applying the middleware.\n */\nexport default function applyMiddleware() {\n  for (var _len = arguments.length, middlewares = Array(_len), _key = 0; _key < _len; _key++) {\n    middlewares[_key] = arguments[_key];\n  }\n\n  return function (createStore) {\n    return function (reducer, preloadedState, enhancer) {\n      var store = createStore(reducer, preloadedState, enhancer);\n      var _dispatch = store.dispatch;\n      var chain = [];\n\n      var middlewareAPI = {\n        getState: store.getState,\n        dispatch: function dispatch(action) {\n          return _dispatch(action);\n        }\n      };\n      chain = middlewares.map(function (middleware) {\n        return middleware(middlewareAPI);\n      });\n      _dispatch = compose.apply(undefined, chain)(store.dispatch);\n\n      return _extends({}, store, {\n        dispatch: _dispatch\n      });\n    };\n  };\n}","import createStore from './createStore';\nimport combineReducers from './combineReducers';\nimport bindActionCreators from './bindActionCreators';\nimport applyMiddleware from './applyMiddleware';\nimport compose from './compose';\nimport warning from './utils/warning';\n\n/*\n* This is a dummy function to check if the function name has been altered by minification.\n* If the function has been minified and NODE_ENV !== 'production', warn the user.\n*/\nfunction isCrushed() {}\n\nif (process.env.NODE_ENV !== 'production' && typeof isCrushed.name === 'string' && isCrushed.name !== 'isCrushed') {\n  warning('You are currently using minified code outside of NODE_ENV === \\'production\\'. ' + 'This means that you are running a slower development build of Redux. ' + 'You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify ' + 'or DefinePlugin for webpack (http://stackoverflow.com/questions/30030031) ' + 'to ensure you have the correct code for your production build.');\n}\n\nexport { createStore, combineReducers, bindActionCreators, applyMiddleware, compose };","\"use strict\";\n\nvar compose = require('redux').compose;\n\nexports.__esModule = true;\nexports.composeWithDevTools = (\n  typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ?\n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ :\n    function() {\n      if (arguments.length === 0) return undefined;\n      if (typeof arguments[0] === 'object') return compose;\n      return compose.apply(null, arguments);\n    }\n);\n\nexports.devToolsEnhancer = (\n  typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION__ ?\n    window.__REDUX_DEVTOOLS_EXTENSION__ :\n    function() { return function(noop) { return noop; } }\n);\n","var { createStore } = require(\"redux\");\nvar { composeWithDevTools } = require(\"redux-devtools-extension\");\n\nfunction reduxReducer(state = {}, action) {\n  return Object.assign({}, state, action.payload);\n}\n\nfunction reducAction(name, data) {\n  return {\n    type: name,\n    payload: data\n  };\n}\n\nfunction copy(target, source) {\n  var obj = {};\n  for (var i in target) obj[i] = target[i];\n  for (var i in source) obj[i] = source[i];\n  return obj;\n}\n\nfunction set(path, value, source, target) {\n  if (path.length) {\n    target[path[0]] =\n      1 < path.length ? set(path.slice(1), value, source[path[0]], {}) : value;\n    return copy(source, target);\n  }\n  return value;\n}\n\nfunction get(path, source) {\n  for (var i = 0; i < path.length; i++) {\n    source = source[path[i]];\n  }\n  return source;\n}\n\nmodule.exports = function devtools(app) {\n  var composeEnhancers = composeWithDevTools({ action: reducAction });\n  var store;\n\n  return function(state, actions, view, container) {\n    var appActions;\n\n    function wire(path, actions) {\n      for (var key in actions) {\n        if (typeof actions[key] === \"function\") {\n          (function(key, action) {\n            actions[key] = function() {\n              var reducer = action.apply(this, arguments);\n              return function (slice) {\n                var data = typeof reducer === \"function\"\n                  ? reducer(slice, get(path, appActions))\n                  : reducer;\n                if (data && !data.then) {\n                  state = set(path, copy(slice, data), state, {});\n                  store.dispatch(reducAction(key, state));\n                }\n                return data;\n              };\n            };\n          })(key, actions[key]);\n        } else {\n          wire(path.concat(key), (actions[key] = copy(actions[key])));\n        }\n      }\n    }\n    wire([], (actions = copy(actions)));\n\n    actions.replaceState = function(actualState) {\n      return function (state) {\n        return actualState;\n      }\n    };\n    store = createStore(reduxReducer, state, composeEnhancers());\n    store.subscribe(function() {\n      appActions.replaceState(store.getState());\n    });\n\n    appActions = app(state, actions, view, container);\n    return appActions;\n  };\n};\n\n","import { h, app, View, Component as HyperComponent } from 'hyperapp';\n\nimport { Map, SERVICE_URL } from '../../map-share-common';\n\nimport Maps from './Maps';\nimport UploadButton from './UploadButton';\nimport './styles.scss';\nimport { uploadFiles } from './uploadFiles';\n\nconst state = {\n  maps: [] as Map[],\n  errorMsg: null as string | null,\n};\n\ntype State = typeof state;\n\nconst actions = {\n  setState: (diff: Partial<State>) => {\n    return diff;\n  },\n  getMaps: () => async (_: State, actions: Actions) => {\n    try {\n      const response = await fetch(SERVICE_URL);\n      if (response.ok) {\n        const { maps } = await response.json();\n        if (Array.isArray(maps)) {\n          actions.setState({ maps });\n        } else {\n          actions.setState({\n            errorMsg: `Couldn't fetch maps: ${response.status}`,\n          });\n        }\n      }\n    } catch (err) {\n      actions.setState({\n        errorMsg: err.toString(),\n      });\n    }\n  },\n  uploadMaps: () => (_: State, actions: Actions) => {\n    const input = document.createElement('input');\n    input.type = 'file';\n    input.accept = '.map';\n    input.multiple = true;\n    input.onchange = event => {\n      const { files } = event.target as HTMLInputElement;\n      if (files) {\n        uploadFiles(files).then(uploaded => {\n          console.log(uploaded);\n          actions.setState(uploaded);\n        });\n      } else {\n        console.error('No files selected!');\n      }\n    };\n    input.click();\n  },\n};\n\ntype Actions = typeof actions;\n\nexport type Component<Attrs = {}> = HyperComponent<Attrs, State, Actions>;\n\nconst view: View<State, Actions> = (state, actions) =>\n  state.errorMsg ? (\n    <div>{state.errorMsg}</div>\n  ) : (\n    <section>\n      <Maps maps={state.maps} />\n      <UploadButton onclick={actions.uploadMaps} />\n    </section>\n  );\n\nconst appArgs: [State, Actions, typeof view, HTMLElement | null] = [\n  state,\n  actions,\n  view,\n  document.getElementById('root'),\n];\n\nlet main;\nif (process.env.NODE_ENV !== 'production') {\n  const devtools = require('hyperapp-redux-devtools');\n  main = devtools(app)(...appArgs);\n} else {\n  main = app(...appArgs);\n}\n\nmain.getMaps();\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}